---
description: Generate weekly summary from all documents processed in the past week
allowed-tools: Glob, Read, Write, Bash
argument-hint: [YYYY-MM-DD] [--save]
---

# Weekly Digest

Generate a summary of all activity from the past week.

## Arguments

`$ARGUMENTS` - Optional:
- `YYYY-MM-DD` - Generate digest for week containing this date (default: current week)
- `--save` - Save the digest to `knowledge/project-status/weekly-YYYY-MM-DD.md`

## Examples

```bash
/weekly-digest                    # Current week
/weekly-digest 2024-01-15         # Week containing Jan 15
/weekly-digest --save             # Current week, save to KB
/weekly-digest 2024-01-08 --save  # Specific week, save to KB
```

## Task

### 1. Determine Date Range

- If date provided: Find Monday-Sunday of that week
- If no date: Use current week (Monday to today)

### 2. Find Processed Documents

Scan `processed/` for files with:
- `document_date` or `processed_date` within the date range
- Use filename date as fallback

### 3. Aggregate Information

From each document's extractions, collect:

**Summaries:**
- Read `extractions/*-summary.md` files
- Extract key points, themes, decisions

**Tasks:**
- Read `extractions/*-tasks.md` files
- Categorize: New tasks, Completed tasks, In Progress

**Decisions:**
- Extract decisions from summaries
- Include decision date and who decided

**People Activity:**
- Who was most mentioned
- New people identified

**Definitions:**
- New terms added to glossary

### 4. Generate Digest

```markdown
# Weekly Digest

**Week of:** January 15-21, 2024
**Generated:** January 21, 2024
**Documents Processed:** 12

---

## Summary

This week focused on [main themes]. Key accomplishments include [highlights].
The team made progress on [areas] while addressing [challenges].

---

## Key Decisions

| Decision | Date | Decided By |
|----------|------|------------|
| Switch to OAuth2 for auth | Jan 16 | John Smith |
| Delay launch by 2 weeks | Jan 18 | Product Team |
| Use Kubernetes for deployment | Jan 19 | Platform Team |

---

## Tasks

### Completed (5)
- ✓ Set up CI pipeline (John)
- ✓ Write API documentation (Jane)
- ✓ Review security audit (Bob)
- ✓ Fix login redirect bug (John)
- ✓ Update deployment scripts (Sarah)

### New Tasks (8)
- Implement OAuth2 (John) - Due: Jan 25
- Migrate database schema (Jane) - Due: Jan 30
- Set up monitoring (Bob) - No deadline
- ...

### In Progress (3)
- API redesign (John) - 60% complete
- Performance testing (Jane) - Started Jan 18
- Documentation update (Bob) - Ongoing

### Blocked (1)
- Deploy to staging - Waiting on infrastructure team

---

## Activity by Person

| Person | Mentions | Tasks | Key Contributions |
|--------|----------|-------|-------------------|
| John Smith | 15 | 4 | Led OAuth implementation |
| Jane Doe | 12 | 3 | Completed API docs |
| Bob Wilson | 8 | 2 | Security review |

---

## New Definitions

- **OAuth2** - Authorization framework for secure access
- **K8s** - Kubernetes abbreviation
- **SLA** - Service Level Agreement

---

## Documents Processed

| Date | Source | Document | Key Topics |
|------|--------|----------|------------|
| Jan 15 | Zoom | Sprint Planning | Q1 goals, auth epic |
| Jan 16 | Slack | API Discussion | Endpoint design |
| Jan 17 | Zoom | Standup | Daily updates |
| Jan 18 | Zoom | Sprint Review | Demo, retrospective |
| ... | ... | ... | ... |

---

## Next Week

Based on this week's activity:
- Continue OAuth2 implementation
- Complete database migration planning
- Address staging deployment blocker

---

*Generated by Project Analysis Framework*
```

### 5. Save if Requested

If `--save` flag:
- Write to `knowledge/project-status/weekly-YYYY-MM-DD.md`
- Confirm save location

## No Activity Handling

If no documents found for the week:

```
No documents processed for week of January 15-21, 2024.

Check:
- Are there files in processed/?
- Were documents processed with correct dates?
- Try a different date range
```
